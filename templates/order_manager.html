{% extends 'base.html' %}

{% block head %}
<title>Order</title>
{% endblock %}
 

{% block body %}
<div class="content">
    <form action="/" method="get">
        <button>Return To Layout</button>
    </form>
    <h1 style="text-align: center;">Table {{table.table_id}} - {{table.loc}}</h1>
    <h4 style="text-align: center;">Capacity: {{table.capacity}}</h4>
    <div>
        <div class="form-container">
            <form action="/menu" method="get">
                <button class="smalltable">New Order</button>
            </form>
            <form action="/menu" method="get">
                <button class="smalltable">Add To Order</button>
            </form>
            <form action="/payment" method="get">
                <button class="smalltable">Payment</button>
            </form>
        </div>
        <table class="table" align="center">
            <tr>
            <th>Order No.</th>
            <th>Order Time</th>
            <th>Food</th>
            <th>Price</th>
            
            </tr>
        
            {% for order in orders[::-1] %} <!-- The [::-1] reverses the orders such that newest is on top. -->
            <tr> 
                <td>{{ order.order_id }}</td>
                <td>{{ order.order_time }}</td>
                <td style="white-space: pre-line;">{{ order.food_list }}</td>
                <td>${{ "%.2f"|format(order.total_cost) }}</td>
            </tr>
            {% endfor %}
        
        </table>
    </div>
</div>
{% endblock %}